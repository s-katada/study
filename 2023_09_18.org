#+STARTUP: indent
#+STARTUP: fold

* DONE HTTPS通信の仕組み
** 公開鍵暗号方式
- 公開鍵と秘密鍵を使って暗号化・復号する仕組み
- 公開鍵が暗号化、秘密鍵が復号する

** 共通鍵暗号方式
- 共通の鍵を使って暗号化・復号する仕組み
- 暗号化、複合どちらも同じ鍵でする

** ハイブリット方式
- 公開鍵暗号方式と共通鍵暗号方式を組み合わせた暗号化・復号の仕組み
*** 暗号化・復号の流れ
1. クライアントがサーバにhttpsで接続をする
2. サーバがクライアントにデジタル証明書を送る
3. クライアントがサーバから送られたデジタル証明書から公開鍵を取得する
4. クライアントが共通鍵を作る(詳細を省く)
5. クライアントが共通鍵を公開鍵で暗号化してサーバに送る
6. サーバはクライアントから送られた共通鍵を秘密鍵で復号する
7. 以降双方は共通鍵でデータを暗号化・復号して通信する

* DONE httpsの証明書を発行してみる(オレオレ証明書)
- opensslを使って発行する
** opensslとは
- 証明書を発行するためのオープンソースツール
** 手順
1. 秘密鍵を生成する
   ~openssl genpkey -algorithm アルゴリズム -out 秘密鍵ファイル~
2. 自己署名証明書の生成する
   ~openssl req -x509 -newkey アルゴリズム:鍵の長さ -keyout 秘密鍵ファイル -out 証明書ファイル -days 有効期限~
   
* DONE docker + nginxでwebサーバーを立ててhttps通信してみる
